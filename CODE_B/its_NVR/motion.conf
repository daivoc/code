# https://hunchori.tistory.com/1?category=614778 
# https://motion-project.github.io/index.html 

# Rename this distribution example file to motion.conf
#
# This config file was generated by motion 4.1.1
# Documentation:  /usr/share/doc/motion/motion_guide.html

############################################################
# Daemon
############################################################

# Start in daemon (background) mode and release terminal (default: off)
daemon off
# 부팅시 백그라운드 실행 

# File to store the process ID, also called pid file. (default: not defined)
process_id_file /var/run/motion/motion.pid

############################################################
# Basic Setup Mode
############################################################

# Start in Setup-Mode, daemon disabled. (default: off)
setup_mode off


# Use a file to save logs messages, if not defined stderr and syslog is used. (default: not defined)
logfile /var/log/motion/motion.log
# 로그파일 저장 위치

# Level of log messages [1..9] (EMG, ALR, CRT, ERR, WRN, NTC, INF, DBG, ALL). (default: 6 / NTC)
log_level 6
# 로그 출력 레벨

# Filter to log messages by type (COR, STR, ENC, NET, DBL, EVT, TRK, VID, ALL). (default: ALL)
log_type all

###########################################################
# Capture device options
############################################################

# Videodevice to be used for capturing  (default /dev/video0)
# for FreeBSD default is /dev/bktr0
videodevice /dev/video0

# v4l2_palette allows one to choose preferable palette to be use by motion
# See motion_guide.html for the valid options and values.  (default: 17)
v4l2_palette 17

# Tuner device to be used for capturing using tuner as source (default /dev/tuner0)
# This is ONLY used for FreeBSD. Leave it commented out for Linux
; tunerdevice /dev/tuner0

# The video input to be used (default: -1)
# Should normally be set to 0 or 1 for video/TV cards, and -1 for USB cameras
# Set to 0 for uvideo(4) on OpenBSD
input -1

# The video norm to use (only for video capture and TV tuner cards)
# Values: 0 (PAL), 1 (NTSC), 2 (SECAM), 3 (PAL NC no colour). Default: 0 (PAL)
norm 0

# The frequency to set the tuner to (kHz) (only for TV tuner cards) (default: 0)
frequency 0

# Override the power line frequency for the webcam. (normally not necessary)
# Values:
# -1 : Do not modify device setting
# 0  : Power line frequency Disabled
# 1  : 50hz
# 2  : 60hz
# 3  : Auto
power_line_frequency -1

# Rotate image this number of degrees. The rotation affects all saved images as
# well as movies. Valid values: 0 (default = no rotation), 90, 180 and 270.
rotate 0
# 이미지 회전 각도

# Flip image over a given axis (vertical or horizontal), vertical means from left to right
# horizontal means top to bottom. Valid values: none, v and h.
flip_axis none
# 이미지 미러링

# Image width (pixels). Valid range: Camera dependent, default: 320
width 320
# 출력 이미지 폭

# Image height (pixels). Valid range: Camera dependent, default: 240
height 240
# 출력 이미지 넓이

# Maximum number of frames to be captured per second.
# Valid range: 2-100. Default: 100 (almost no limit).
framerate 2
# 초당 캡처 할 최대 프레임 수

# Minimum time in seconds between capturing picture frames from the camera.
# Default: 0 = disabled - the capture rate is given by the camera framerate.
# This option is used when you want to capture images at a rate lower than 2 per second.
minimum_frame_time 0
# 카메라에서 사진을 캡처하는 데 걸리는 최소 시간 (초)

# Full Network Camera URL.  Valid Services: http:// ftp:// mjpg:// rtsp:// mjpeg:// file:// rtmp://
; netcam_url value
# 네트워크 카메라 URL

# Username and password for network camera if required. Syntax is user:password
; netcam_userpass value
# 필요한 경우 네트워크 카메라의 사용자 이름과 비밀번호. 구문은 user : password

# The setting for keep-alive of network socket, should improve performance on compatible net cameras.
# off:   The historical implementation using HTTP/1.0, closing the socket after each http request.
# force: Use HTTP/1.0 requests with keep alive header to reuse the same connection.
# on:    Use HTTP/1.1 requests that support keep alive as default.
# Default: off
netcam_keepalive off
# off : HTTP / 1.0을 사용한 히스토리 구현. 각 http 요청 후 소켓을 닫습니다.
# force : 연결 유지 헤더와 함께 HTTP / 1.0 요청을 사용하여 동일한 연결을 재사용하십시오.
# on : 기본 상태로 유지를 지원하는 HTTP / 1.1 요청을 사용하십시오.

# URL to use for a netcam proxy server, if required, e.g. "http://myproxy".
# If a port number other than 80 is needed, use "http://myproxy:1234".
# Default: not defined
; netcam_proxy value
# 80 이외의 포트 번호가 필요한 경우 예 -> "http : // myproxy : 1234"를 사용하십시오.

# Set less strict jpeg checks for network cameras with a poor/buggy firmware.
# Default: off
netcam_tolerant_check off

# RTSP connection uses TCP to communicate to the camera. Can prevent image corruption.
# Default: on
rtsp_uses_tcp on

# Name of camera to use if you are using a camera accessed through OpenMax/MMAL
# Default: Not defined
; mmalcam_name vc.ril.camera

# Camera control parameters (see raspivid/raspistill tool documentation)
# Default: Not defined
; mmalcam_control_params -hf

# Let motion regulate the brightness of a video device (default: off).
# The auto_brightness feature uses the brightness option as its target value.
# If brightness is zero auto_brightness will adjust to average brightness value 128.
# Only recommended for cameras without auto brightness
auto_brightness off
# auto_brightness 기능은 밝기 옵션을 대상 값으로 사용

# Set the initial brightness of a video device.
# If auto_brightness is enabled, this value defines the average brightness level
# which Motion will try and adjust to.
# Valid range 0-255, default 0 = disabled
brightness 0
# 비디오 장치의 초기 밝기를 설정하십시오.
# 활성화 된 경우이 값은 모션이 시도하고 조정할 평균 밝기 수준을 정의합

# Set the contrast of a video device.
# Valid range 0-255, default 0 = disabled
contrast 0
# 비디오 장치의 대비(contrast)를 설정

# Set the saturation of a video device.
# Valid range 0-255, default 0 = disabled
saturation 0
# 비디오 장치의 채도(saturation)를 설정

# Set the hue of a video device (NTSC feature).
# Valid range 0-255, default 0 = disabled
hue 0
# 비디오 장치의 색조(hue)를 설정 (NTSC 기능).


############################################################
# Round Robin (multiple inputs on same video device name)
############################################################

# Number of frames to capture in each roundrobin step (default: 1)
roundrobin_frames 1
# 각 라운드 로빈 단계에서 캡처 할 프레임 수

# Number of frames to skip before each roundrobin step (default: 1)
roundrobin_skip 1
# 각 라운드 로빈 단계 전에 건너 뛸 프레임 수

# Try to filter out noise generated by roundrobin (default: off)
switchfilter off
# 라운드 로빈에 의해 생성 된 노이즈를 필터링 (기본값 : OFF)

############################################################
# Motion Detection Settings:
############################################################

# Threshold for number of changed pixels in an image that
# triggers motion detection (default: 1500)
threshold 1500
# 모션 감지를 트리거하는 이미지에서 변경된 픽셀 수에 대한 임계 값 (기본값 : 1500)

# Automatically tune the threshold down if possible (default: off)
threshold_tune off
# 임계 값 자동으로 조정

# Noise threshold for the motion detection (default: 32)
noise_level 32
# 움직임 감지를위한 노이즈 임계 값

# Automatically tune the noise threshold (default: on)
noise_tune on
# 노이즈 임계 값을 자동으로 조정

# Despeckle motion image using (e)rode or (d)ilate or (l)abel (Default: not defined)
# Recommended value is EedDl. Any combination (and number of) of E, e, d, and D is valid.
# (l)abeling must only be used once and the 'l' must be the last letter.
# Comment out to disable
despeckle_filter EedDl

# Detect motion in predefined areas (1 - 9). Areas are numbered like that:  1 2 3
# A script (on_area_detected) is started immediately when motion is         4 5 6
# detected in one of the given areas, but only once during an event.        7 8 9
# One or more areas can be specified with this option. Take care: This option
# does NOT restrict detection to these areas! (Default: not defined)
; area_detect value

# PGM file to use as a sensitivity mask.
# Full path name to. (Default: not defined)
; mask_file value

# PGM file to completely mask out a area of image.
# Full path name to. (Default: not defined)
# mask_privacy value

# Dynamically create a mask file during operation (default: 0)
# Adjust speed of mask changes from 0 (off) to 10 (fast)
smart_mask_speed 0

# Ignore sudden massive light intensity changes given as a percentage of the picture
# area that changed intensity. Valid range: 0 - 100 , default: 0 = disabled
lightswitch 0
# 갑작스러운 광량 변화를 무시 (백분율 1% - 100%)

# Picture frames must contain motion at least the specified number of frames
# in a row before they are detected as true motion. At the default of 1, all
# motion is detected. Valid range: 1 to thousands, recommended 1-5
minimum_motion_frames 1
# 실제 모션으로 감지되기 전에 최소한 지정된 수의 프레임을 모션으로 포함

# Specifies the number of pre-captured (buffered) pictures from before motion
# was detected that will be output at motion detection.
# Recommended range: 0 to 5 (default: 0)
# Do not use large values! Large values will cause Motion to skip video frames and
# cause unsmooth movies. To smooth movies use larger values of post_capture instead.
pre_capture 0
# 움직임 감지시 사전 캡처 (버퍼링 된) 사진 수를 지정
# 기본 0에서 5, 큰 값을 사용하지 마십시오!
# 큰 값은 모션 비디오 프레임을 건너 뛰고 원활하지 영상를 유발하는 원인이됩니다.
# 영상를 부드럽게하려면 대신 더 큰 post_capture 값을 사용하십시오.

# Number of frames to capture after motion is no longer detected (default: 0)
post_capture 0
# 모션이 감지 종료된 후 캡처 할 프레임 수 (기본값 : 0)

# Event Gap is the seconds of no motion detection that triggers the end of an event.
# An event is defined as a series of motion images taken within a short timeframe.
# Recommended value is 60 seconds (Default). The value -1 is allowed and disables
# events causing all Motion to be written to one single movie file and no pre_capture.
# If set to 0, motion is running in gapless mode. Movies don't have gaps anymore. An
# event ends right after no more motion is detected and post_capture is over.
event_gap 60
# 이벤트 갭은 이벤트의 끝을 트리거하는 모션 감지가없는 초입니다.
# 이벤트는 짧은 시간 내에 촬영 된 일련의 동영상 이미지로 정의됩니다.
# 권장 값은 60 초입니다 (기본값). 
# -1 값은 허용되며 모든 모션이 하나의 단일 동영상 파일에 기록되고 pre_capture는 발생하지 않는 이벤트를 비활성화합니다.
# 0으로 설정하면 모션이 갭리스 모드로 실행됩니다.
# 영상는 더 이상 간격이 없습니다.
# 더 이상 움직임이 감지되지 않고 post_capture가 끝나면 이벤트가 종료됩니다.

# Maximum length in seconds of a movie
# When value is exceeded a new movie file is created. (Default: 0 = infinite)
max_movie_time 0
# 영상의 최대 길이 (초). 0: 무한
# 값이 초과되면 새 동영상 파일이 생성됩니다. 

# Always save images even if there was no motion (default: off)
emulate_motion off
# 움직임이 없어도 항상 이미지를 저장합니다 (기본값 : 꺼짐)


############################################################
# Image File Output
############################################################

# Output 'normal' pictures when motion is detected (default: off)
# Valid values: on, off, first, best, center
# When set to 'first', only the first picture of an event is saved.
# Picture with most motion of an event is saved when set to 'best'.
# Picture with motion nearest center of picture is saved when set to 'center'.
# Can be used as preview shot for the corresponding movie.
output_pictures off
# 'on' 움직임이 감지되면 사진 출력
# 유효한 값 : 켜짐, 꺼짐, 첫 번째, 최고, 중심
# 'first'로 설정하면 이벤트의 첫 번째 사진 만 저장됩니다.
# 'best'로 설정하면 이벤트가 가장 많이 움직이는 사진이 저장됩니다.
# 'center'로 설정하면 가장 가까운 모션의 사진이있는 사진이 저장됩니다.

# Output pictures with only the pixels moving object (ghost images) (default: off)
output_debug_pictures off
# 움직인 픽셀 이미지만를 출력합니다 (고스트 이미지) (기본값 : 꺼짐)

# The quality (in percent) to be used by the jpeg and webp compression (default: 75)
quality 75
# jpeg 및 webp 압축에 사용되는 품질 (백분율) (기본값 : 75)

# Type of output images
# Valid values: jpeg, ppm or webp (default: jpeg)
picture_type jpeg
# 출력 이미지의 종류

############################################################

# Use ffmpeg to encode videos of motion (default: off)
ffmpeg_output_movies off
# ffmpeg를 사용하여 모션 비디오를 인코딩합니다 (기본값 : 꺼짐)

# Use ffmpeg to make videos showing the moving pixels (ghost images) (default: off)
ffmpeg_output_debug_movies off
# ffmpeg를 사용하여 움직이는 픽셀 (고스트 이미지)을 보여주는 비디오를 만듭니다 (기본값 : 꺼짐).

# Bitrate to be used by the ffmpeg encoder (default: 400000)
# This option is ignored if ffmpeg_variable_bitrate is not 0 (disabled)
ffmpeg_bps 400000
# ffmpeg 인코더에서 사용할 비트 전송률 (기본값 : 400000).
# ffmpeg_variable_bitrate가 0이 아닌 경우이 옵션은 무시됩니다 (비활성화 됨)

# Enables and defines variable bitrate for the ffmpeg encoder.
# ffmpeg_bps is ignored if variable bitrate is enabled.
# Valid values: 0 (default) = fixed bitrate defined by ffmpeg_bps,
# or the range 1 - 100 where 1 means worst quality and 100 is best.
ffmpeg_variable_bitrate 0
# ffmpeg 인코더의 가변 비트 전송률을 활성화하고 정의합니다.
# 변수 비트 전송률이 활성화되면 ffmpeg_bps가 무시됩니다.
# 유효한 값 : 0 (기본값) = ffmpeg_bps로 정의 된 고정 비트 전송률 또는 1-100 범위. 1은 품질이 가장 낮고 100이 가장 좋습니다.

# Container/Codec output videos
# Valid values: mpeg4, msmpeg4, swf,flv, ffv1, mov, mp4, mkv, hevc
ffmpeg_video_codec mkv
# 컨테이너 / 코덱 출력 비디오

# When creating videos, should frames be duplicated in order
# to keep up with the requested frames per second
# (default: true)
ffmpeg_duplicate_frames true

# Interval in seconds between timelapse captures.  Default: 0 = off
timelapse_interval 0
# 타임 랩스 캡처 간격 (초).

# Timelapse file rollover mode. See motion_guide.html for options and uses.
timelapse_mode daily

# Frame rate for timelapse playback
timelapse_fps 30
# 저속촬영(timelapse) 재생을위한 프레임 속도

# Container/Codec for timelapse video. Valid values: mpg or mpeg4
timelapse_codec mpg
# 저속촬영(timelapse) 비디오 용 컨테이너 / 코덱.

############################################################
# External pipe to video encoder
# Replacement for FFMPEG builtin encoder for ffmpeg_output_movies only.
# The options movie_filename and timelapse_filename are also used
# by the ffmpeg feature
# 비디오 엔코더 외부 파이프
# fmpeg_output_movies 전용의 FFMPEG 내장 인코더 교체.
# movie_filename 및 timelapse_filename 옵션은 ffmpeg 기능에서도 사용됩니다.
#############################################################
# bidio enkodeo oeb
# Bool to enable or disable extpipe (default: off)
use_extpipe off

# External program (full path and opts) to pipe raw video to
# Generally, use '-' for STDIN...
;extpipe mencoder -demuxer rawvideo -rawvideo w=%w:h=%h:i420 -ovc x264 -x264encopts bframes=4:frameref=1:subq=1:scenecut=-1:nob_adapt:threads=1:keyint=1000:8x8dct:vbv_bufsize=4000:crf=24:partitions=i8x8,i4x4:vbv_maxrate=800:no-chroma-me -vf denoise3d=16:12:48:4,pp=lb -of   avi -o %f.avi - -fps %fps
;extpipe x264 - --input-res %wx%h --fps %fps --bitrate 2000 --preset ultrafast --quiet -o %f.mp4
;extpipe mencoder -demuxer rawvideo -rawvideo w=%w:h=%h:fps=%fps -ovc x264 -x264encopts preset=ultrafast -of lavf -o %f.mp4 - -fps %fps
;extpipe ffmpeg -y -f rawvideo -pix_fmt yuv420p -video_size %wx%h -framerate %fps -i pipe:0 -vcodec libx264 -preset ultrafast -f mp4 %f.mp4


############################################################
# Snapshots (Traditional Periodic Webcam File Output)
############################################################

# Make automated snapshot every N seconds (default: 0 = disabled)
snapshot_interval 0
# N 초마다 자동 스냅 샷 생성 (기본값 : 0 = 비활성화)


############################################################
# Text Display
# %Y = year, %m = month, %d = date,
# %H = hour, %M = minute, %S = second, %T = HH:MM:SS,
# %v = event, %q = frame number, %t = camera id number,
# %D = changed pixels, %N = noise level, \n = new line,
# %i and %J = width and height of motion area,
# %K and %L = X and Y coordinates of motion center
# %C = value defined by text_event - do not use with text_event!
# You can put quotation marks around the text to allow
# leading spaces
############################################################

# Locate and draw a box around the moving object.
# Valid values: on, off, preview (default: off)
# Set to 'preview' will only draw a box in preview_shot pictures.
locate_motion_mode off
# 움직이는 물체 주위에 상자를 찾아 그립니다.
# 유효한 값 : on, off, preview (기본값 : off)
# 'preview'로 설정하면 preview_shot 사진에만 상자가 그려집니다.

# Set the look and style of the locate box if enabled.
# Valid values: box, redbox, cross, redcross (default: box)
# Set to 'box' will draw the traditional box.
# Set to 'redbox' will draw a red box.
# Set to 'cross' will draw a little cross to mark center.
# Set to 'redcross' will draw a little red cross to mark center.
locate_motion_style box
# 활성화 된 경우 찾기 상자의 모양과 스타일을 설정합니다.
# 유효한 값 : box, redbox, cross, redcross (기본값 : box)
# 'box'로 설정하면 기존 상자가 그려집니다.
# 'redbox'로 설정하면 빨간색 상자가 그려집니다.
# 'cross'로 설정하면 중심을 표시하기 위해 작은 크로스가 그려집니다.
# 'redcross'로 설정하면 중심을 표시하기 위해 작은 적십자가 그려집니다.

# Draws the timestamp using same options as C function strftime(3)
# Default: %Y-%m-%d\n%T = date in ISO format and time in 24 hour clock
# Text is placed in lower right corner
text_right %Y-%m-%d\n%T-%q
# C 함수 strftime (3)과 동일한 옵션을 사용하여 타임 스탬프를 그립니다.
# 기본값 : % Y- % m- % d \ n % T = ISO 형식의 날짜 및 24 시간 시계의 시간
# 텍스트는 오른쪽 하단에 위치함.

# Draw a user defined text on the images using same options as C function strftime(3)
# Default: Not defined = no text
# Text is placed in lower left corner
; text_left CAMERA %t
# 텍스트는 왼쪽 아래 모서리에 배치됩니다

# Draw the number of changed pixed on the images (default: off)
# Will normally be set to off except when you setup and adjust the motion settings
# Text is placed in upper right corner
text_changes off
# 이미지에서 변경된 픽스 수 표시 (기본값 : off)
# 모션 설정을 조정할 때를 제외하고 일반적으로 꺼짐으로 설정
# 텍스트는 오른쪽 상단에 있습니다

# This option defines the value of the special event conversion specifier %C
# You can use any conversion specifier in this option except %C. Date and time
# values are from the timestamp of the first image in the current event.
# Default: %Y%m%d%H%M%S
# The idea is that %C can be used filenames and text_left/right for creating
# a unique identifier for each event.
text_event %Y%m%d%H%M%S
#이 옵션은 특별 이벤트 변환 지정자 %C의 값을 정의합니다.
#이 옵션에서 %C를 제외한 모든 변환 지정자를 사용할 수 있습니다.
# 날짜 및 시간 값은 현재 이벤트에서 첫 번째 이미지의 타임 스탬프에서 가져옵니다.
# 기본값 : % Y % m % d % H % M % S
# 아이디어는 %C를 사용하여 파일 이름과 text_left / right를 사용할 수 있다는 것입니다.

# Draw characters at twice normal size on images. (default: off)
text_double off
# 이미지에 보통 크기의 두 배로 문자를 표시.

# Text to include in a JPEG EXIF comment
# May be any text, including conversion specifiers.
# The EXIF timestamp is included independent of this text.
;exif_text %i%J/%K%L

############################################################
# Target Directories and filenames For Images And Films
# For the options snapshot_, picture_, movie_ and timelapse_filename
# you can use conversion specifiers
# %Y = year, %m = month, %d = date,
# %H = hour, %M = minute, %S = second,
# %v = event, %q = frame number, %t = camera id number,
# %D = changed pixels, %N = noise level,
# %i and %J = width and height of motion area,
# %K and %L = X and Y coordinates of motion center
# %C = value defined by text_event
# Quotation marks round string are allowed.
############################################################
# 이미지 및 필름의 대상 디렉토리 및 파일 이름.
# snapshot_, picture_, movie_ 및 timelapse_filename 옵션의 경우 변환 지정자를 사용할 수 있습니다

# Target base directory for pictures and films
# Recommended to use absolute path. (Default: current working directory)
target_dir /var/lib/motion
# 사진 및 영상의 대상 기본 디렉토리
# 절대 경로를 사용하는 것이 좋습니다. (기본값 : 현재 작업 디렉토리)

# File path for snapshots (jpeg, ppm or webp) relative to target_dir
# Default: %v-%Y%m%d%H%M%S-snapshot
# Default value is equivalent to legacy oldlayout option
# For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-snapshot
# File extension .jpg, .ppm or .webp is automatically added so do not include this.
# Note: A symbolic link called lastsnap.jpg created in the target_dir will always
# point to the latest snapshot, unless snapshot_filename is exactly 'lastsnap'
snapshot_filename %v-%Y%m%d%H%M%S-snapshot
# target_dir에 상대적인 스냅 샷 (jpeg, ppm 또는 webp)의 파일 경로
# 파일 확장자 .jpg, .ppm 또는 .webp가 자동으로 추가되므로 포함하지 마십시오.
# 참고 : snapshot_filename 이 정확히 'lastsnap'(최종스넵샷)이 아닌 한 target_dir에 작성된 lastsnap.jpg라는 심볼릭 링크는 항상 최신 스냅 샷을 가리 킵니다.

# File path for motion triggered images (jpeg, ppm or .webp) relative to target_dir
# Default: %v-%Y%m%d%H%M%S-%q
# Default value is equivalent to legacy oldlayout option
# For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-%q
# File extension .jpg, .ppm or .webp is automatically added so do not include this
# Set to 'preview' together with best-preview feature enables special naming
# convention for preview shots. See motion guide for details
picture_filename %v-%Y%m%d%H%M%S-%q
# target_dir을 기준으로 모션 트리거 이미지 (jpeg, ppm 또는 .webp)의 파일 경로
# 기본값 : %v-%Y%m%d%H%M%S-%q
# 파일 확장자 .jpg, .ppm 또는 .webp가 자동으로 추가되므로 포함하지 마십시오
# 미리보기 기능과 함께 'preview'로 설정하면 미리보기 촬영에 특별한 명명 규칙이 적용됩니다.

# File path for motion triggered ffmpeg films (movies) relative to target_dir
# Default: %v-%Y%m%d%H%M%S
# File extensions(.mpg .avi) are automatically added so do not include them
movie_filename %v-%Y%m%d%H%M%S
# target_dir을 기준으로 모션 트리거 된 ffmpeg 영상 (영상)의 파일 경로

# File path for timelapse movies relative to target_dir
# Default: %Y%m%d-timelapse
# File extensions(.mpg .avi) are automatically added so do not include them
timelapse_filename %Y%m%d-timelapse

############################################################
# Global Network Options
############################################################
# Enable IPv6 (default: off)
ipv6_enabled off

############################################################
# Live Stream Server
############################################################
# 실시간 중계서버

# The mini-http server listens to this port for requests (default: 0 = disabled)
# mini-http 서버는 stream_port 포트를 통한 접근 (기본값 : 0 = 사용 안함)
stream_port 8081

# 50% scaled down substream (default: 0 = disabled)
# substream_port 8082

# Quality of the jpeg (in percent) images produced (default: 50)
stream_quality 50
# jpeg 이미지 품질 (백분율) (기본값 : 50)

# Output frames at 1 fps when no motion is detected and increase to the
# rate given by stream_maxrate when motion is detected (default: off)
stream_motion off
# 움직임이 감지되지 않으면 1fps로 프레임을 출력하고 
# 움직임이 감지되면 stream_maxrate 로 지정된 속도로 증가시킵니다 (기본값 : 꺼짐)

# Maximum framerate for stream streams (default: 1)
stream_maxrate 1
# 스트림의 최대 프레임 속도 (기본값 : 1)

# Restrict stream connections to localhost only (default: on)
stream_localhost on
# 로컬 호스트로만 스트림 연결을 제한합니다 (기본값 : on)

# Limits the number of images per connection (default: 0 = unlimited)
# Number can be defined by multiplying actual stream rate by desired number of seconds
# Actual stream rate is the smallest of the numbers framerate and stream_maxrate
stream_limit 0
# 연결 당 이미지 수를 제한합니다 (기본값 : 0 = 무제한).
# 실제 스트림 속도에 원하는 초 수를 곱하여 숫자를 정의 할 수 있습니다.
# 실제 스트림 속도는 숫자 framerate 및 stream_maxrate 중 가장 작습니다.

# Set the authentication method (default: 0)
# 0 = disabled
# 1 = Basic authentication
# 2 = MD5 digest (the safer authentication)
stream_auth_method 0
# 인증 방법 설정 (기본값 : 0)

# Authentication for the stream. Syntax username:password
# Default: not defined (Disabled)
; stream_authentication username:password
# 스트림 인증. 구문 사용자 username:password
# 기본값 : 정의되지 않음 (사용 안함)

# Percentage to scale the stream image for preview
# This is scaled on the browser side, motion will keep sending full frames
# Default: 25
; stream_preview_scale 25
# 미리보기를 위해 스트림 이미지의 비율을 조정하는 비율입니다.
# 이것은 브라우저 쪽에서 조정되며 모션은 전체 프레임을 계속 전송합니다

# Have stream preview image start on a new line
# Default: no
; stream_preview_newline no

############################################################
# HTTP Based Control
############################################################

# TCP/IP port for the http server to listen on (default: 0 = disabled)
webcontrol_port 8080
# http 서버가 수신 대기하는 TCP / IP 포트 (기본값 : 0 = 사용 안함)

# Restrict control connections to localhost only (default: on)
webcontrol_localhost on
# 로컬 호스트로의 제어 연결 제한 (기본값 : on)

# Output for http server, select off to choose raw text plain (default: on)
webcontrol_html_output on
# http 서버에 대한 출력, 기본 텍스트 일반을 선택하려면 off를 선택하십시오 (기본값 : on).

# Authentication for the http based control. Syntax username:password
# Default: not defined (Disabled)
; webcontrol_authentication username:password
# http 컨트롤에 대한 인증. 구문 사용자 username:password


# Parameters to include on webcontrol.  0=none, 1=limited, 2=advanced, 3=restricted
# Default: 0 (none)
webcontrol_parms 0


############################################################
# Tracking (Pan/Tilt)
#############################################################

# Type of tracker (0=none (default), 1=stepper, 2=iomojo, 3=pwc, 4=generic, 5=uvcvideo, 6=servo)
# The generic type enables the definition of motion center and motion size to
# be used with the conversion specifiers for options like on_motion_detected
track_type 0
# 트래커 유형 (0=none (default), 1=stepper, 2=iomojo, 3=pwc, 4=generic, 5=uvcvideo, 6=servo)
# 일반 유형(generic)을 사용하면 모션 센터 및 모션 크기의 정의를 on_motion_detected 와 같은 옵션에 대한 변환 지정자와 함께 사용할 수 있습니다.

# Enable auto tracking (default: off)
track_auto off
# 자동 추적 사용 (기본값 : 해제)

# Serial port of motor (default: none)
;track_port /dev/ttyS0

# Motor number for x-axis (default: 0)
;track_motorx 0

# Set motorx reverse (default: 0)
;track_motorx_reverse 0

# Motor number for y-axis (default: 0)
;track_motory 1

# Set motory reverse (default: 0)
;track_motory_reverse 0

# Maximum value on x-axis (default: 0)
;track_maxx 200

# Minimum value on x-axis (default: 0)
;track_minx 50

# Maximum value on y-axis (default: 0)
;track_maxy 200

# Minimum value on y-axis (default: 0)
;track_miny 50

# Center value on x-axis (default: 0)
;track_homex 128

# Center value on y-axis (default: 0)
;track_homey 128

# ID of an iomojo camera if used (default: 0)
track_iomojo_id 0

# Angle in degrees the camera moves per step on the X-axis
# with auto-track (default: 10)
# Currently only used with pwc type cameras
track_step_angle_x 10

# Angle in degrees the camera moves per step on the Y-axis
# with auto-track (default: 10)
# Currently only used with pwc type cameras
track_step_angle_y 10

# Delay to wait for after tracking movement as number
# of picture frames (default: 10)
track_move_wait 10

# Speed to set the motor to (stepper motor option) (default: 255)
track_speed 255
# 모터를 설정하는 속도 (스테퍼 모터 옵션) (기본값 : 255)

# Number of steps to make (stepper motor option) (default: 40)
track_stepsize 40


############################################################
# External Commands, Warnings and Logging:
# You can use conversion specifiers for the on_xxxx commands
# %Y = year, %m = month, %d = date,
# %H = hour, %M = minute, %S = second,
# %v = event, %q = frame number, %t = camera id number,
# %D = changed pixels, %N = noise level,
# %i and %J = width and height of motion area,
# %K and %L = X and Y coordinates of motion center
# %C = value defined by text_event
# %f = filename with full path
# %n = number indicating filetype
# Both %f and %n are only defined for on_picture_save,
# on_movie_start and on_movie_end
# Quotation marks round string are allowed.
############################################################

# Do not sound beeps when detecting motion (default: on)
# Note: Motion never beeps when running in daemon mode.
quiet on
# 움직임을 감지 할 때 경고음이 들리지 않습니다 (기본값 : 켜짐)

# Command to be executed when an event starts. (default: none)
# An event starts at first motion detected after a period of no motion defined by event_gap
; on_event_start value

# Command to be executed when an event ends after a period of no motion
# (default: none). The period of no motion is defined by option event_gap.
; on_event_end value

# Command to be executed when a picture (.ppm|.jpg) is saved (default: none)
# To give the filename as an argument to a command append it with %f
; on_picture_save value

# Command to be executed when a motion frame is detected (default: none)
; on_motion_detected value

# Command to be executed when motion in a predefined area is detected
# Check option 'area_detect'.   (default: none)
; on_area_detected value

# Command to be executed when a movie file (.mpg|.avi) is created. (default: none)
# To give the filename as an argument to a command append it with %f
; on_movie_start value

# Command to be executed when a movie file (.mpg|.avi) is closed. (default: none)
# To give the filename as an argument to a command append it with %f
; on_movie_end value

# Command to be executed when a camera can't be opened or if it is lost
# NOTE: There is situations when motion don't detect a lost camera!
# It depends on the driver, some drivers dosn't detect a lost camera at all
# Some hangs the motion thread. Some even hangs the PC! (default: none)
; on_camera_lost value

# Command to be executed when a camera that was lost has been found (default: none)
# NOTE: If motion doesn't properly detect a lost camera, it also won't know it found one.
; on_camera_found value

#####################################################################
# Common Options for database features.
# Options require database options to be active also.
#####################################################################

# Log to the database when creating motion triggered picture file  (default: on)
; sql_log_picture on
# motion triggered 사진 파일을 생성 할 때 데이터베이스에 기록 (기본값 : on)

# Log to the database when creating a snapshot image file (default: on)
; sql_log_snapshot on
# snapshot 사진 파일을 생성 할 때 데이터베이스에 기록 (기본값 : on)

# Log to the database when creating motion triggered movie file (default: off)
; sql_log_movie off
# 모션 트리거 movie 파일을 만들 때 데이터베이스에 기록합니다 (기본값 : 꺼짐)

# Log to the database when creating timelapse movies file (default: off)
; sql_log_timelapse off
# 모션 트리거 timelapse 파일을 만들 때 데이터베이스에 기록합니다 (기본값 : 꺼짐)

# SQL query string that is sent to the database
# Use same conversion specifiers has for text features
# Additional special conversion specifiers are
# %n = the number representing the file_type
# %f = filename with full path
# Default value:
# Create tables :

#############################
# Mysql EX:2
# CREATE TABLE motion_images ( id int not null primary key auto_increment, event_id int, filename varchar(255) not null, frame_number int, file_type int, image_width int, image_height int, motion_center_x int, motion_center_y int, motion_area_width int, motion_area_height int, changed_pixels int, noise_level int, threshold int, camera int, creation_time timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP );
# CREATE TABLE motion_events ( event_id int primary key auto_increment , camera tinyint , start_time timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP , end_time timestamp NULL DEFAULT NULL );



sql_query_start insert into motion_events(camera, start_time) values ('%t', '%Y-%m-%d %T')
sql_query insert into motion_images (camera, event_id, filename, frame_number, file_type, image_width, image_height, motion_center_x, motion_center_y, motion_area_width, motion_area_height, changed_pixels, noise_level, threshold) values('%t', %{dbeventid}, '%f', %q, %n, %w, %h, %K, %L, %i, %J, %D, %N, %o)
sql_query_stop update motion_events set end_time='%Y-%m-%d %T' where event_id=%{dbeventid}

############################################################
# Database Options
############################################################

# database type : mysql, postgresql, sqlite3 (default : not defined)
; database_type value
# 사용하는 데이터베이스 종류

# database to log to (default: not defined)
# for sqlite3, the full path and name for the database.
; database_dbname value
# 데이터베이스 명

# The host on which the database is located (default: localhost)
; database_host value
# 데이터베이스 서버

# User account name for database (default: not defined)
; database_user value
# 데이터베이스 접근자명

# User password for database (default: not defined)
; database_password value
# 데이터베이스 접근자 비밀번호

# Port on which the database is located
#  mysql 3306 , postgresql 5432 (default: not defined)
; database_port value
# 데이터베이스 Port mysql 3306

# Database wait time in milliseconds for locked database to
# be unlocked before returning database locked error (default 0)
; database_busy_timeout 0



############################################################
# Video Loopback Device (vloopback project)
############################################################

# Output images to a video4linux loopback device
# Specify the device associated with the loopback device
# For example /dev/video1 (default: not defined)
; video_pipe value

# Output motion images to a video4linux loopback device
# Specify the device associated with the loopback device
# For example /dev/video1 (default: not defined)
; motion_video_pipe value


##############################################################
# camera config files - One for each camera.
# Except if only one camera - You only need this config file.
# If you have more than one camera you MUST define one camera
# config file for each camera in addition to this config file.
##############################################################

# Remember: If you have more than one camera you must have one
# camera file for each camera. E.g. 2 cameras requires 3 files:
# This motion.conf file AND camera1.conf and camera2.conf.
# Only put the options that are unique to each camera in the
# camera config files.
; camera /etc/motion/camera1.conf
; camera /etc/motion/camera2.conf
; camera /etc/motion/camera3.conf
; camera /etc/motion/camera4.conf


##############################################################
# Camera config directory
# Any files ending in '.conf' in this directory will be read
# as a camera config file.
##############################################################

; camera_dir /etc/motion/conf.d
